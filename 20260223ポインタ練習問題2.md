# 

```mondai1.c
#include<stdio.h>

int* makeptr(){
 int num=55;
 int* ptr=&num;
 return ptr;
}

void func(){
 int arr[]={1,2,3,4,5,6,7,8,9,10,11}; 
}

void main(){
 int* ptr=makeptr();
 printf("ptr=%d\n",*ptr);

 func();

 printf("ptr=%d\n",*ptr);
}
```


```mondai1-2.c
#include<stdio.h>

int* makeptr(){
 int* ptr=(int *)malloc(4);
 *ptr = 55;
 return ptr;
}

void func(){
 int arr[]={1,2,3,4,5,6,7,8,9,10,11}; 
}

void main(){
 int* ptr=makeptr();
 printf("ptr=%d\n",*ptr);

 func();

 printf("ptr=%d\n",*ptr);
}
```

# 

```mondai2.c
#include<stdio.h>

void redirect(int **pp,int *p){
 **pp=*p;
}

void main(){
 int a=10;
 int b=20;
 int *p=&a;
 redirect(&p,&b);
 
 printf("*p=%d \n",*p);
}
```

# 

```mondai3.c
#include<stdio.h>

void advance(int **pp){
  *pp = *pp+1;
}

void main(){
 int arr[5]={10,20,30,40,50};
 int *p=arr;
 advance(&p);
 printf("*p=%d",*p);
}
```

# 

```mondai4.c
#include<stdio.h>

int countvalue(int *p, int size,int value){
 int cnt=0;
 while(size != 0){
  if(*p++ == value){
   cnt++;
  }
  size--;
 }
 return cnt;
}

void main(){
 int arr[8]={10,20,30,40,50,30,30,10};
 int *p=&arr;
 int cnt = countvalue(p,8,30);
 printf("cnt=%d\n",cnt);
}
```

# 

```mondai5.c
#include<stdio.h>

char* findchar(char *s, char c){
 char *ret=NULL;
 while(*s!='\0'){
  if(*s==c){
   ret=s;
   break;
  }
  s++;
 }
 return ret;
}

void main(){
 char str[]="aiueo";
 char c = 'e';
 char *ptr = findchar(&str,c);
 printf("*ptr=%c",*ptr);
}
```

# 

```mondai6.c
#include<stdio.h>

int* makearray(int size){
 int *array=malloc(sizeof(int)*size);
 int i;
 
 for(i=0;i<size;i++){
  array[i]=i;
 }
 return array;
}

void main(){
 int *p=makearray(5);
 
 int i;
 for(i=0;i<5;i++){
  printf("p[%d]=%d\n",i,*p+i);
 }
}
```

# 

```mondai7.c
#include<stdio.h>

int* makenumbers(int size){
 int *array=malloc(sizeof(int)*size);
 int i;
 for(i=0;i<size;i++){
  array[i]=100;
 }
 return array;
}

void main(){
 int *p=makenumbers(5);
 
 int i;
 /*
 for(i=0;i<5;i++){
  printf("p[%d]=%d\n",i,p[i]);
 }
 */
 printf("*p=%p p[0]=%d\n",(void *)p,p[0]);
 free(p);
 printf("*p=%p p[0]=%d\n",(void *)p,p[0]);
 free(p);
 printf("*p=%p p[0]=%d\n",(void *)p,p[0]);
}
```
freeしたら指しているアドレスの値が変わった。

# 

```mondai8.c
#include<stdio.h>

int distance(int *p1,int *p2){
 printf("p2=%d\n",p2);
 printf("p1=%d\n",p1);
 printf("p2-p1=%d\n",p2-p1);
 return (p2-p1);
}

void main(){
 int arr[10]={0,2,3,4,5,6,7,8,9};
 int d=distance(&arr[2],&arr[7]);
 printf("d=%d",d);
}
```
ポインタの差はバイト数になると思っていたが要素数だった。
